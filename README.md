# &lt;uxf-canvas&gt;
This project provides a [Web Components custom element](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements) implementation for rendering [.uxf / UML eXchange Format](https://en.wikipedia.org/wiki/UXF) files.

It is currently considered as unstable alpha software and may be heavily rewritten (obeying semantic versioning, of course).

Note: This is being written so I can embed UML files generated by [UMLet](http://www.umlet.com/) in internal documentation sites.

**MASSIVE TODO:** Proper documentation.

## Basic Usage
Simply load the `uxf-canvas.js` file:

    <script type='text/javascript' src='uxf-canvas.js'></script>
    <!-- OR -->
    <script type='text/javascript' src='https://cdn.jsdelivr.net/gh/kettek/uxf-canvas/uxf-canvas.min.js'></script>

Then declare a `uxf-canvas` element with the UXF code inside the element or as
an external resource via the `src` attribute:

    <uxf-canvas>
      <diagram program="umlet" version="14.2">
        <zoom_level>10</zoom_level>
        <element>
          <id>UMLClass</id>
          <coordinates>
            <x>220</x>
            <y>70</y>
            <w>100</w>
            <h>30</h>
          </coordinates>
          <panel_attributes>/AbstractClass/
      bg=red</panel_attributes>
          <additional_attributes/>
        </element>
      </diagram>
    </uxf-canvas>
    <!-- OR -->
    <uxf-canvas src='test.uxf'></uxf-canvas>

See `uxf-canvas.html` for a complete example.

## Implemented Elements
The following is a list of elements that are mostly implemented.

  * UMLObject
  * UMLClass
  * UMLGeneric
  * UMLUseCase
  * Relation
  * Default (fallback)

## Custom Elements
Custom elements may be defined through the `UXFCanvas` class's `addElementSupport(name, cb)` static method.

  * **UXF.addElementSupport(name, cb)**
    * `name` *&lt;string>* -- id name of the element, such as "UMLObject".
    * `cb` *&lt;Function>* -- Callback used for rendering the object.
      * `UXF` *&lt;UXFCanvas>* -- The UXFCanvas instance, used for calling drawing operations and similar.
      * `element` *&lt;UXFElement>* -- The UXFElement instance that is being processed.

### Custom Element Example
    UXFCanvas.addElementSupport('UMLNote', (UXF, element) => {
      UXF.drawBox(element);
      let y = 0;
      for (let i = 0; i < element.lines.length; i++) {
        y += UXF.drawTextLine(element.lines[i], {x: 0, y: y, w: element.w, h: element.h}).height;
      }
    });
